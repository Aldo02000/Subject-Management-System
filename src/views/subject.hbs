<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subject Description - Mathematics</title>
    <base href="/">
    <link rel="stylesheet" type="text/css" href="CSS/subject.css" />
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const addAnnouncementBtn = document.getElementById('addAnnouncementBtn');
            const announcementForm = document.getElementById('announcementForm');

            addAnnouncementBtn.addEventListener('click', function() {
                announcementForm.style.display = 'block';
            });
        });
    </script>
</head>
<body>
    <div class="wrapper">

        {{> sidebar dashboardLink=(concat '/welcome/' Id) coursesText="Class Schedule" scheduleText="Setting" examsText="asdas"}}
       
        <div class="main-content">
            
            <header class="header">           
                <div class="search-bar">
                    <input type="text" placeholder="Search">
                    <button>üîç</button>
                </div>
                <div class="user-profile">
                    <img src="https://via.placeholder.com/150" alt="Profile">
                    <span>{{name}}</span>
                </div>
            </header>

            
            <section class="subject-title">
                <h1>{{name}}</h1>
            </section>

            
            <section class="subject-description">

                <div>
                    <h2>Description</h2>
                    <p>{{descriptionText}}</p>
                </div>

                {{#if isProfessor}}
                    <div>
                        <h2>Edit Description</h2>
                        <form action="welcome/{{Id}}/subject/{{subjectId}}/edit-description" method="post">
                            <textarea name="description" rows="5" cols="50"></textarea>
                            <button type="submit">Save Description</button>
                        </form>
                    </div>
                {{/if}}

            </section>




            <section class="announcements">
                <h2>Announcements</h2>
                {{#if isProfessor}}
                    {{#each announcementRows}}
                        <p>{{this.announcement}}</p>
                        <form action="/welcome/{{this.professor_id}}/{{this.subject_id}}/deleteAnnouncement/{{this.announcement_id}}" method="POST">
                            <button>Delete</button>
                        </form>
                    {{/each}}

                    <button id="addAnnouncementBtn">Add Announcement</button>

                    <form action="welcome/{{Id}}/subject/{{subjectId}}/add-announcement" method="post" id="announcementForm" style="display:none;">
                        <textarea name="announcement" id="announcementText" rows="4" cols="50"></textarea>
                        <button type="submit" id="submitAnnouncementBtn">Submit</button>
                    </form>

                {{else}}
                    {{#each announcementRows}}
                        <p>{{this.announcement}}</p>
                    {{/each}}
                {{/if}}

            </section>
            
            
            <section class="upload-material">
                <h2>Upload Lecture Material</h2>
                <form action="/path/to/upload" method="post" enctype="multipart/form-data">
                    <input type="file" name="lectureMaterial" required>
                    <button type="submit">Upload</button>
                </form>
            </section>




            
            <section class="enrolled-students">
                <h2>Enrolled Students</h2>
                <ul>
                    <li>
                        <span>Student A</span>
                        <button class="de-enroll-button">De-enroll</button>
                    </li>
                    <li>
                        <span>Student B</span>
                        <button class="de-enroll-button">De-enroll</button>
                    </li>
                    
                </ul>
            </section>
        </div>
    </div>
</body>
</html>

